# News Spectrum MVP - í˜„ì¬ ìƒíƒœ (2025-11-27)

**ìµœì¢… ì—…ë°ì´íŠ¸:** 2025-11-27 ì˜¤í›„
**ì‘ì„±ì:** C (Claude Code)

---

## ğŸ¯ í˜„ì¬ ìƒí™© ìš”ì•½

### ğŸ†• ì˜¤ëŠ˜ (2025-11-27) ì£¼ìš” ì‘ì—…

#### 1. Topic Evolution Tracking System âœ…
- **Migration**: `mvp_topic_history` í…Œì´ë¸” ë©”íƒ€ë°ì´í„° ì¶”ê°€ ì™„ë£Œ
- **Pipeline**: `match_topics_across_days.py` GitHub Actionsì— í†µí•©
- **API**: Evolution ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (`/api/topics/evolution`, `/api/topics/[id]/timeline`)
- **ìƒíƒœ**: Gê°€ full pipeline ì‹¤í–‰ ì™„ë£Œ (2,352 articles)

#### 2. News Weather Map (ë‰´ìŠ¤ ì§€í˜•ë„) ì‹œê°í™” âœ…
4ê°€ì§€ ë²„ì „ êµ¬í˜„ ì™„ë£Œ:
- `map-basic.html` - ê¸°ë³¸ ì†Œë‚˜ ë§µ (í„ìŠ¤, í˜¸ë²„ íˆ´íŒ)
- `map-multilayer.html` - 3-ë ˆì´ì–´ ì‹œìŠ¤í…œ (ê¸°ì‚¬/êµ­ë‚´/ê¸€ë¡œë²Œ)
- `map.html` - í”„ë¡œë•ì…˜ ì™„ì„±ë³¸ (í•„í„°, ê²€ìƒ‰, Pan/Zoom, ëª¨ë°”ì¼)
- `map-cards.html` - ì¹´ë“œ + ë¯¸ë‹ˆë§µ ëŒ€ì•ˆ

**ìœ„ì¹˜**: `app/frontend/public/` â†’ `http://localhost:3000/map.html`

#### 3. ğŸ”´ Critical Architecture Decision

**ë¬¸ì œ ë°œê²¬**: Sê°€ í† í”½ ì„ë² ë”© ì ‘ê·¼ë²•ì˜ ê·¼ë³¸ì ì¸ ë¬¸ì œ ì§€ì 

**ê¸°ì¡´ ë°©ì‹ (ì˜ëª»ë¨)**:
```
í† í”½ ì„ë² ë”© ìƒì„± â†’ í† í”½ ìœ„ì¹˜ ê²°ì • â†’ ê¸°ì‚¬ ëœë¤ ì‚°í¬
```

**ì˜¬ë°”ë¥¸ ë°©ì‹** (S ì œì•ˆ):
```
ê¸°ì‚¬ ì„ë² ë”© í™œìš© â†’ ê¸°ì‚¬ ìœ„ì¹˜ ê²°ì • â†’ í† í”½ = ê¸°ì‚¬ë“¤ì˜ ì¤‘ì‹¬ì 
```

**ê·¼ê±°**:
- í† í”½ì€ ê¸°ì‚¬ë“¤ì˜ ì§‘í•© (ë³„ë„ semantic entity ì•„ë‹˜)
- ê¸°ì‚¬ ì„ë² ë”© ì´ë¯¸ ì¡´ì¬ (`mvp_articles.embedding`)
- í† í”½ centroid_embedding ë¶ˆí•„ìš”
- ì˜ë¯¸ì ìœ¼ë¡œ ì •í™•í•œ ë°°ì¹˜

**ë¬¸ì„œ**: `docs/design/topic_map_architecture_decision.md` ì°¸ì¡°

---

### âœ… ì™„ë£Œëœ ì‘ì—… (2025-11-26)

#### 1. Oì˜ ìš”ì²­ì‚¬í•­ êµ¬í˜„ (ì™„ë£Œ)
- [x] API ë©”íƒ€ ì •ë³´ í™•ì¥ (count, updatedAt)
- [x] Hero í•œêµ­ì–´ ì¹´í”¼ & ë©”íƒ€ë°” ë°”ì¸ë”©
- [x] ì¹´ë“œ "ì™œ ì¤‘ìš”í•œê°€" ì„¹ì…˜ ì¶”ê°€
- [x] ì¹œì ˆí•œ í†¤ & ë¦¬ìŠ¤íŠ¸ ì„¹ì…˜í™” (Top 3 / ë‚˜ë¨¸ì§€)

#### 2. "ë¯¸ì™€ ë¯¸ì˜ ê²½ìŸ" ë””í…Œì¼ ì‘ì—… (ì™„ë£Œ)
- [x] êµ­ê°€ëª… ì¼ê´€ì„± (US â†’ United States)
- [x] ì‹œê°ì  ê³„ì¸µ ê°•í™” (ìˆ«ì ê°•ì¡°, ê°„ê²© ì¡°ì •)
- [x] ë§ˆì´í¬ë¡œ ì¸í„°ë™ì…˜ (í™”ì‚´í‘œ ìŠ¬ë¼ì´ë“œ)

#### 3. ì ‘ê·¼ì„± ê°•í™” (ì™„ë£Œ)
- [x] Header & Hero (ARIA labels, focus states)
- [x] MegatopicCard í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
- [x] RelatedArticles í•„í„° ì ‘ê·¼ì„±
- [x] Color contrast ê²€ì¦

**ë¹Œë“œ ìƒíƒœ:** âœ… ì„±ê³µ (ì—ëŸ¬ ì—†ìŒ)

---

## ğŸ”´ ìƒˆë¡œìš´ ì´ìŠˆ: UX Pivot í•„ìš”

### Sì˜ í”¼ë“œë°± (ì¤‘ìš”!)

**í˜„ì¬ ë¬¸ì œ:**
> "ìš°ë¦¬ ì§€ê¸ˆ í˜ì´ì§€ê°€ ë„ˆë¬´ ì§ê´€ì„±ì´ ë–¨ì–´ì ¸.
> ëŒ€ë‹¨í•œ ë°©ì‹ìœ¼ë¡œ ì•Œë ¤ë“œë ¤ìš”! í•˜ê¸°ë³´ë‹¤ëŠ”
> ì¼ë°˜ì ì¸ ì»¤ë®¤ë‹ˆí‹°í˜• í”¼ë“œì—¬ì•¼ í•´."

**ì›í•˜ëŠ” ë°©í–¥:**
- X.com (íŠ¸ìœ„í„°) ê°™ì€ ê°€ë²¼ìš´ ì‚¬ìš©ì„±
- ë‰´ë‹‰ ê°™ì€ ì¹œê·¼í•œ ë¬¸ë²•
- í•œ ë²ˆì˜ í„°ì¹˜/í´ë¦­ìœ¼ë¡œ ìƒì„¸ í™•ì¸
- ì¡°ë¯¸ë£Œì²˜ëŸ¼ ìì—°ìŠ¤ëŸ½ê²Œ ë…¹ì•„ë“  ì„œë¹„ìŠ¤

**í•µì‹¬ ì² í•™:**
> "ì¼ë°˜ì ì¸ ì»¤ë®¤ë‹ˆí‹°/SNSë¥¼ ì‚¬ìš©í•˜ëŠ” ì •ë„ì˜ ë°©ì‹ì´ì§€ë§Œ
> ê·¸ ì•ˆì—ì„œ ìš°ë¦¬ ì„œë¹„ìŠ¤ë¥¼ ì˜ ë…¹ì—¬ë‚´ì„œ
> ë ˆì´ì–´ê°€ ë§ìŒì—ë„ ê°„ê²°íˆ ì´ë¯¸ì§€ë¡œë§Œ ì œê³µí•˜ê³ 
> ì¼ë°˜ ê¸°ì‚¬ëŠ” ì‹¬ì‹¬í•´ ë³´ì´ê²Œë”"

---

## ğŸ“‹ ë‹¤ìŒ ë‹¨ê³„

### ğŸ”¥ Immediate (Topic Map ìˆ˜ì •)

#### âœ… Gì™€ í˜‘ì˜ ì™„ë£Œ!

**Gì˜ ë‹µë³€ ìš”ì•½**:
1. âœ… `mvp_articles.embedding` **100% ì±„ì›Œì§** (~4,500 articles)
2. âœ… `centroid_embedding` **ì‘ì—… ì¤‘ë‹¨ ê°€ëŠ¥** (ê¸°ì‚¬ í‰ê· ìœ¼ë¡œ ê³„ì‚° ì¤‘, S ì² í•™ê³¼ ì¼ì¹˜)
3. âœ… API ì¶”ê°€ **ê°€ëŠ¥**
4. âš ï¸ **ì„±ëŠ¥ ì´ìŠˆ**: 1536D ì„ë² ë”© ì „ì†¡ ì‹œ 150KB/í† í”½

**ğŸ’¡ Gì˜ ì œì•ˆ**:
> **ì„œë²„ì—ì„œ PCAë¡œ 2D ì¢Œí‘œ(x, y)ë§Œ ê³„ì‚°í•´ì„œ ë‚´ë ¤ì£¼ë©´ ìˆ˜ì²œ ê°œ ê¸°ì‚¬ë„ ê°€ë³ê²Œ ì²˜ë¦¬ ê°€ëŠ¥**

---

#### ğŸ¯ ìµœì¢… êµ¬í˜„ ê³„íš (Server-Side PCA)

**Phase 1: Backend (G í˜‘ì—…)**
- [ ] `/api/topics/map` ì—”ë“œí¬ì¸íŠ¸ ìƒì„±
- [ ] ê¸°ì‚¬ ì„ë² ë”© â†’ PCA â†’ 2D ì¢Œí‘œ (x, y) ê³„ì‚°
- [ ] í† í”½ + ê¸°ì‚¬(ì¢Œí‘œ í¬í•¨) ì‘ë‹µ

**Payload**: 80KB (vs 1.5MB with embeddings) âœ¨

**PCA êµ¬í˜„ ì˜µì…˜**:
- Option A: Python subprocess (sklearn) - **ì¶”ì²œ**
- Option B: ml.js (ìˆœìˆ˜ JS)
- Option C: ê°„ì†Œí™”ëœ PCA (í˜„ì¬ map.html ë°©ì‹)

**Phase 2: Frontend (C)**
- [ ] `/api/topics/map` í˜¸ì¶œ
- [ ] ê¸°ì‚¬ë“¤ì„ ì„œë²„ì—ì„œ ë°›ì€ (x, y) ì¢Œí‘œì— ë°°ì¹˜
- [ ] í† í”½ = ê¸°ì‚¬ë“¤ì˜ ì¤‘ì‹¬ì  ê³„ì‚°

**ì˜ˆìƒ**: Backend 4-5ì‹œê°„, Frontend 1-2ì‹œê°„

**ìƒì„¸**: `docs/design/topic_map_architecture_decision.md` ì°¸ì¡°

---

### ğŸ”„ UX Pivot (Backlog)

#### ëŒ€ê¸° ì¤‘
- [ ] **Sì˜ ë°©í–¥ ê²°ì •**
  - Option A: ë¹ ë¥¸ í”„ë¡œí† íƒ€ì… (2-3ì‹œê°„)
  - Option B: ì™„ì „ ì¬ì„¤ê³„ (5-6ì‹œê°„)

#### ì¤€ë¹„ëœ ë¬¸ì„œ
- âœ… `docs/design/ux_pivot_2025-11-26.md` (ìƒì„¸ ë¶„ì„)
- âœ… `docs/design/feed_redesign_proposal.md` (ì œì•ˆì„œ)

---

## ğŸ“‚ í˜„ì¬ ì½”ë“œ ìƒíƒœ

### Frontend (app/frontend)

**ì£¼ìš” ì»´í¬ë„ŒíŠ¸:**
```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx                    â† ë©”ì¸ í”¼ë“œ (ì¬ì„¤ê³„ ëŒ€ìƒ)
â”‚   â””â”€â”€ topics/[id]/page.tsx        â† í† í”½ ìƒì„¸
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Hero.tsx                    â† í•œêµ­ì–´ ì¹´í”¼ ì ìš© ì™„ë£Œ
â”‚   â”œâ”€â”€ MegatopicCard.tsx           â† ì¬ì„¤ê³„ ëŒ€ìƒ (ë„ˆë¬´ ë¬´ê±°ì›€)
â”‚   â”œâ”€â”€ SpectrumBar.tsx             â† ìœ ì§€ (ì¬ì‚¬ìš© ê°€ëŠ¥)
â”‚   â””â”€â”€ RelatedArticles.tsx         â† ìœ ì§€
â””â”€â”€ lib/
    â”œâ”€â”€ types.ts                    â† MegatopicCardProps ì¬ì •ì˜ í•„ìš”
    â”œâ”€â”€ constants.ts                â† ë‰´ë‹‰ìŠ¤ëŸ¬ìš´ ë¬¸êµ¬ ì¶”ê°€ í•„ìš”
    â””â”€â”€ api.ts                      â† API ë¡œì§ (ë³€ê²½ ì—†ìŒ)
```

**ì¬ì„¤ê³„ í•„ìš”:**
1. `MegatopicCard.tsx`
   - í˜„ì¬: 350px ë†’ì´, Country Breakdown í¼ì¹˜ê¸° ë“±
   - ëª©í‘œ: 120px ì»´íŒ©íŠ¸ ì¹´ë“œ

2. `page.tsx` ë ˆì´ì•„ì›ƒ
   - í˜„ì¬: 2-column grid
   - ëª©í‘œ: Single column feed

3. ìƒˆë¡œ ë§Œë“¤ê¸°:
   - `FeedCard.tsx` (ì»´íŒ©íŠ¸ ì¹´ë“œ)
   - `TopicDrawer.tsx` (ìƒì„¸ ì„œë)

---

## ğŸ› ï¸ C/O/G ë…¼ì˜ í•„ìš” ì‚¬í•­

### For C (Frontend)
1. **Drawer ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ**
   - Radix UI Dialog?
   - Framer Motion?
   - ì§ì ‘ êµ¬í˜„?

2. **ì»´í¬ë„ŒíŠ¸ ì „ëµ**
   - MegatopicCard ìˆ˜ì • vs ìƒˆë¡œ ë§Œë“¤ê¸°?
   - ì ì§„ì  ì „í™˜ vs í•œ ë²ˆì— êµì²´?

3. **ì• ë‹ˆë©”ì´ì…˜**
   - Drawer ì—´ë¦¼/ë‹«í˜ ì• ë‹ˆë©”ì´ì…˜
   - í”¼ë“œ ìŠ¤í¬ë¡¤ ì„±ëŠ¥

### For O (Infrastructure)
1. **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**
   - Drawer ì• ë‹ˆë©”ì´ì…˜ ì„±ëŠ¥
   - ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸ í™˜ê²½

2. **ë¹Œë“œ ìµœì í™”**
   - Code splitting (Drawer lazy load?)

### For G (Data)
1. **Summary ê¸¸ì´**
   - í˜„ì¬: 80ì
   - ì œì•ˆ: 120ìë¡œ í™•ëŒ€?

2. **í”¼ë“œ ì •ë ¬**
   - í˜„ì¬: ë‚ ì§œìˆœ
   - ë³€ê²½ í•„ìš”?

---

## ğŸ“Š í˜„ì¬ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- Next.js 16.0.4 (App Router, Turbopack)
- React 19
- TypeScript (strict mode)
- Tailwind CSS v4
- Lucide React (icons)

### Backend/Data
- Supabase (PostgreSQL)
- Python pipelines
- Gemini API (stance classification)

### Deployment
- Vercel (frontend)
- GitHub Actions (pipelines)

---

## ğŸ”— ì°¸ê³  ë§í¬

**Topic Map ê´€ë ¨ (2025-11-27)**:
- [Topic Map Architecture Decision](./design/topic_map_architecture_decision.md) â­ **í•„ë…**
- [News Weather Map Vision](./design/news_weather_map_vision.md)
- [Topic Evolution Implementation](./design/topic_evolution_implementation.md)
- [Sonar Map Guide](../SONAR_MAP_GUIDE.md)

**UX Pivot ê´€ë ¨ (2025-11-26)**:
- [UX Pivot ìƒì„¸ ë¶„ì„](./design/ux_pivot_2025-11-26.md)
- [í”¼ë“œ ì¬ì„¤ê³„ ì œì•ˆ](./design/feed_redesign_proposal.md)

**ê³µí†µ**:
- [Knowledge Log](./Knowledge.md)

**ë ˆí¼ëŸ°ìŠ¤ HTML:**
- `/Users/sml/Downloads/ë‰´ë‹‰ - ì‰½ê³  ì¬ë°ŒëŠ” ì§€ì‹ í”Œë«í¼.html`
- `/Users/sml/Downloads/Ground News.html`

---

## ğŸš¦ ê²°ì • ëŒ€ê¸° ì¤‘

### ì¦‰ì‹œ í•„ìš”: Gì™€ í˜‘ì˜
1. **ê¸°ì‚¬ ì„ë² ë”© ìƒíƒœ í™•ì¸**
2. **í† í”½ ì„ë² ë”© ì‘ì—… ì¤‘ë‹¨ ì—¬ë¶€ ê²°ì •**
3. **API ìŠ¤í™ í•©ì˜** (`/api/topics?include_articles=true`)
4. **ì„±ëŠ¥ ì œì•½ í™•ì¸** (í† í”½ë‹¹ ê¸°ì‚¬ ê°œìˆ˜ ì œí•œ)

### ì¶”í›„ í•„ìš”: Sì—ê²Œ í•„ìš”í•œ ê²°ì • (UX Pivot)
1. ì¬ì„¤ê³„ ë°©í–¥ ìŠ¹ì¸ (í”¼ë“œí˜•ìœ¼ë¡œ ì „í™˜?)
2. Option A (ë¹ ë¥¸ í”„ë¡œí† íƒ€ì…) vs Option B (ì™„ì „ ì¬ì„¤ê³„)
3. ì¶”ê°€ ìš”êµ¬ì‚¬í•­ ë˜ëŠ” ë°©í–¥ ì¡°ì •

---

**í˜„ì¬ ìƒíƒœ:**
- âœ… Topic Evolution Tracking ì™„ë£Œ
- âœ… ì§€í˜•ë„ ì‹œê°í™” UI ì™„ë£Œ
- âš ï¸ ì•„í‚¤í…ì²˜ ìˆ˜ì • í•„ìš” (ê¸°ì‚¬ ì„ë² ë”© ê¸°ë°˜ìœ¼ë¡œ ì „í™˜)
- ğŸ”„ UX Pivot ì¬ì„¤ê³„ ëŒ€ê¸° ì¤‘
